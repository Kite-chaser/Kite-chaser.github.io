<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://Kite-chaser.github.io</id>
    <title>Kite-chaser</title>
    <updated>2019-10-29T12:23:48.352Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://Kite-chaser.github.io"/>
    <link rel="self" href="https://Kite-chaser.github.io/atom.xml"/>
    <subtitle>This is my blog.</subtitle>
    <logo>https://Kite-chaser.github.io/images/avatar.png</logo>
    <icon>https://Kite-chaser.github.io/favicon.ico</icon>
    <rights>All rights reserved 2019, Kite-chaser</rights>
    <entry>
        <title type="html"><![CDATA[P2845 [USACO15DEC]Switching on the Lights å¼€å…³ç¯]]></title>
        <id>https://Kite-chaser.github.io/post/p2845-usaco15decswitching-on-the-lights-kai-guan-deng</id>
        <link href="https://Kite-chaser.github.io/post/p2845-usaco15decswitching-on-the-lights-kai-guan-deng">
        </link>
        <updated>2019-10-29T11:45:11.000Z</updated>
        <content type="html"><![CDATA[<h3 id="é¢˜ç›®èƒŒæ™¯">é¢˜ç›®èƒŒæ™¯</h3>
<p>æ¥æºï¼šusaco-2015-dec</p>
<p>Farm John æœ€è¿‘æ–°å»ºäº†ä¸€æ‰¹å·¨å¤§çš„ç‰›æ£šã€‚è¿™äº›ç‰›æ£šæ„æˆäº†ä¸€ä¸ªN*Nçš„çŸ©å½¢ç½‘ç»œã€‚ï¼ˆ1&lt;n&lt;100)</p>
<p>ç„¶è€Œbessieååˆ†æ€•é»‘ï¼Œä»–æƒ³è®¡ç®—å¯ä»¥æŠŠå¤šå°‘ä¸ªç‰›æ£šçš„ç¯æ‰“å¼€ã€‚</p>
<h3 id="é¢˜ç›®æè¿°">é¢˜ç›®æè¿°</h3>
<p>æœ‰<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi><mo>âˆ—</mo><mi>N</mi></mrow><annotation encoding="application/x-tex">N*N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span>ä¸ªæˆ¿é—´ï¼Œç»„æˆäº†ä¸€å¼ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi><mo>âˆ—</mo><mi>N</mi></mrow><annotation encoding="application/x-tex">N*N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span>çš„ç½‘æ ¼å›¾ï¼ŒBessieä¸€å¼€å§‹ä½äºå·¦ä¸Šè§’(1,1)ï¼Œå¹¶ä¸”åªèƒ½ä¸Šä¸‹å·¦å³è¡Œèµ°ã€‚</p>
<p>ä¸€å¼€å§‹ï¼Œåªæœ‰(1,1)è¿™ä¸ªæˆ¿é—´çš„ç¯æ˜¯äº®ç€çš„ï¼ŒBessieåªèƒ½åœ¨äº®ç€ç¯çš„æˆ¿é—´é‡Œæ´»åŠ¨ã€‚</p>
<p>æœ‰å¦å¤–Mæ¡ä¿¡æ¯ï¼Œæ¯æ¡ä¿¡æ¯åŒ…å«å››ä¸ªæ•°a,b,c,dï¼Œè¡¨ç¤ºæˆ¿é—´(a,b)é‡Œæœ‰æˆ¿é—´(c,d)çš„ç¯çš„å¼€å…³ã€‚</p>
<p>è¯·è®¡ç®—å‡ºæœ€å¤šæœ‰å¤šå°‘ä¸ªæˆ¿é—´çš„ç¯å¯ä»¥è¢«æ‰“å¼€</p>
<h3 id="è¯´æ˜æç¤º">è¯´æ˜/æç¤º</h3>
<p>è¿™é‡Œï¼Œå¦‚æœä½ çœ‹å¾—æ‡‚è‹±æ–‡çš„è¯ï¼Œè¿™é‡Œæœ‰æ ·ä¾‹çš„è¯´æ˜ã€‚</p>
<p>Here, Bessie can use the switch in (1,1)to turn on lights in (1,2)and (1,3). She can then walk to (1,3)and turn on the lights in (2,1)ï¼Œfrom which she can turn on the lights in (2,2). The switch in (2,3)is inaccessible to her, being in an unlit room. She can therefore illuminate at most 5 rooms.</p>
<h3 id="æ‰‹åŠ¨æœºç¿»">æ‰‹åŠ¨æœºç¿»</h3>
<p>åœ¨è¿™é‡Œï¼Œè´èŒœå¯ä»¥ä½¿ç”¨ ï¼ˆ1ï¼Œ1ï¼‰ ä¸­çš„å¼€å…³æ‰“å¼€ ï¼ˆ1ï¼Œ2ï¼‰ å’Œ ï¼ˆ1ï¼Œ3ï¼‰ ä¸­çš„ç¯ã€‚ç„¶åï¼Œå¥¹å¯ä»¥æ­¥è¡Œåˆ°ï¼ˆ1ï¼Œ3ï¼‰å¹¶æ‰“å¼€ï¼ˆ2ï¼Œ1ï¼‰ä¸­çš„ç¯ï¼Œä»ä¸­å¥¹å¯ä»¥æ‰“å¼€ç¯ï¼ˆ2ï¼Œ2ï¼‰ã€‚å¥¹æ— æ³•è¿›å…¥ï¼ˆ2ï¼Œ3ï¼‰çš„å¼€å…³ï¼Œå¥¹ä½åœ¨ä¸€é—´æ²¡æœ‰ç…§æ˜çš„æˆ¿é—´é‡Œã€‚å› æ­¤ï¼Œå¥¹æœ€å¤šèƒ½ç…§äº®5ä¸ªæˆ¿é—´ã€‚</p>
<blockquote>
<p><a href="https://www.luogu.org/record/25920729">åŸé¢˜é“¾æ¥</a></p>
</blockquote>
<h3 id="solve">Solve</h3>
<p>BFSè½å°±å®Œäº†ã€‚<br>
å°±æ˜¯å¾—æ³¨æ„ä¸æ˜¯æ‰¾å‡ ä¸ªæˆ¿é—´å¯ä»¥èµ°åˆ°ï¼Œè€Œæ˜¯å¯ä»¥å¼€å‡ ä¸ªæˆ¿é—´çš„ç¯ã€‚</p>
<h3 id="code">Code</h3>
<pre><code class="language-cpp">#include&lt;iostream&gt;
#include&lt;cstdio&gt;
#include&lt;cstring&gt;
#include&lt;vector&gt;
#include&lt;queue&gt;
#define N 1000
using namespace std;
int n,m,ans;
int x1,y1,x2,y2;
int dx[4]={-1,0,1,0};
int dy[4]={0,1,0,-1};
struct note{
	int x,y;
};
vector&lt;note&gt; g[N][N];
queue&lt;note&gt; q;
bool vis[N][N],fis[N][N];//visæ˜¯å¦æˆ¿é—´å¼€ç¯ï¼Œfisæ˜¯å¦è¢«èµ°åˆ°
void bfs(){
	q.push((note){1,1});vis[1][1]=true;fis[1][1]=true;ans=1;
	while(!q.empty()){
		note e=q.front();
		q.pop();
		int x=e.x,y=e.y;
		for(int i=0;i&lt;g[x][y].size();i++){
			int xx=g[x][y][i].x,yy=g[x][y][i].y;
			if(!vis[xx][yy]){
				vis[xx][yy]=true;
				ans++;
			}
			if((fis[xx-1][yy]||fis[xx][yy+1]||fis[xx+1][yy]||fis[xx][yy-1])&amp;&amp;!fis[xx][yy]) fis[xx][yy]=true,q.push((note){xx,yy});
		}
		for(int i=0;i&lt;4;i++){
			int xx=x+dx[i],yy=y+dy[i];
			if(!fis[xx][yy]&amp;&amp;vis[xx][yy]){
				fis[xx][yy]=true;
				q.push((note){xx,yy});
			}
		}
	}
}
int main()
{
	scanf(&quot;%d%d&quot;,&amp;n,&amp;m);
	for(int i=1;i&lt;=m;i++){
		scanf(&quot;%d%d%d%d&quot;,&amp;x1,&amp;y1,&amp;x2,&amp;y2);
		g[x1][y1].push_back((note){x2,y2});
	}
	bfs();
	printf(&quot;%d&quot;,ans);
	return 0;
}
</code></pre>
<h3 id="åè¨€">åè¨€</h3>
<p>é™„å¸¦ä¸€æ®µç¥å¥‡ç¼–è¯‘ã€‚</p>
<blockquote>
<p>/tmp/tmpv278mza7/src: åœ¨å‡½æ•°â€˜void bfs()â€™ä¸­:<br>
/tmp/tmpv278mza7/src:24:16: è­¦å‘Šï¼šcomparison of integer expressions of different signedness: â€˜intâ€™ and â€˜std::vector<note>::size_typeâ€™ {aka â€˜long unsigned intâ€™}    [-Wsign-compare]<br>
for(int i=0;i&lt;g[x][y].size();i++){<br>
<sub>^</sub>~~~~~~~~~~~~~</p>
</blockquote>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[P4588 [TJOI2018]æ•°å­¦è®¡ç®—]]></title>
        <id>https://Kite-chaser.github.io/post/p4588-tjoi2018shu-xue-ji-suan</id>
        <link href="https://Kite-chaser.github.io/post/p4588-tjoi2018shu-xue-ji-suan">
        </link>
        <updated>2019-10-29T11:26:21.000Z</updated>
        <summary type="html"><![CDATA[<p>è¿™çœŸçš„æ˜¯é“çº¿æ®µæ ‘â€¦â€¦</p>
]]></summary>
        <content type="html"><![CDATA[<p>è¿™çœŸçš„æ˜¯é“çº¿æ®µæ ‘â€¦â€¦</p>
<!--more-->
<h3 id="é¢˜ç›®æè¿°">é¢˜ç›®æè¿°</h3>
<p>å°è±†ç°åœ¨æœ‰ä¸€ä¸ªæ•°xï¼Œåˆå§‹å€¼ä¸º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>.å°è±†æœ‰<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Q</mi></mrow><annotation encoding="application/x-tex">Q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">Q</span></span></span></span>æ¬¡æ“ä½œï¼Œæ“ä½œæœ‰ä¸¤ç§ç±»å‹:</p>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mi>m</mi><mo>:</mo><mi>x</mi><mo>=</mo><mi>x</mi><mo>Ã—</mo><mi>m</mi></mrow><annotation encoding="application/x-tex">1m:x=x\times m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord mathdefault">m</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span> è¾“å‡º <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span>%mod;</p>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn><mi>p</mi><mi>o</mi><mi>s</mi><mo>:</mo><mi>x</mi><mo>=</mo><mi>x</mi><mi mathvariant="normal">/</mi></mrow><annotation encoding="application/x-tex">2pos:x=x/</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">2</span><span class="mord mathdefault">p</span><span class="mord mathdefault">o</span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">x</span><span class="mord">/</span></span></span></span>ç¬¬<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>p</mi><mi>o</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">pos</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">p</span><span class="mord mathdefault">o</span><span class="mord mathdefault">s</span></span></span></span>æ¬¡æ“ä½œæ‰€ä¹˜çš„æ•°ï¼ˆä¿è¯ç¬¬<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>p</mi><mi>o</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">pos</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">p</span><span class="mord mathdefault">o</span><span class="mord mathdefault">s</span></span></span></span>æ¬¡æ“ä½œä¸€å®šä¸ºç±»å‹<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>,å¯¹äºæ¯ä¸€ä¸ªç±»å‹<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>çš„æ“ä½œè‡³å¤šä¼šè¢«é™¤ä¸€æ¬¡ï¼‰è¾“å‡º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x%mod</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span>;</p>
<blockquote>
<p><a href="https://www.luogu.org/problem/P4588">åŸé¢˜é“¾æ¥</a></p>
</blockquote>
<h3 id="solve">Solve</h3>
<p>è¯´å®è¯ï¼Œä¸€å¼€å§‹æˆ‘æ˜¯çœŸæ²¡çœ‹å‡ºæ¥è¿™æ˜¯é“çº¿æ®µæ ‘ã€‚<br>
ä»¥æ¯ä¸€ä¸ªæ—¶é—´èŠ‚ç‚¹ä½œä¸ºå¶å­èŠ‚ç‚¹ï¼Œï¼Œåˆå§‹å€¼éƒ½æ˜¯1ï¼ŒåŒºé—´æ±‚ä¹˜ã€‚</p>
<ul>
<li>1æ“ä½œå°±æ˜¯åœ¨ç›¸åº”çš„æ—¶é—´èŠ‚ç‚¹ï¼Œä¿®æ”¹ä¸º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span>ã€‚</li>
<li>2æ“ä½œå°±æ˜¯åœ¨<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>p</mi><mi>o</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">pos</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">p</span><span class="mord mathdefault">o</span><span class="mord mathdefault">s</span></span></span></span>ä½ç½®ä¿®æ”¹ä¸º1.</li>
</ul>
<h3 id="code">Code</h3>
<pre><code class="language-cpp">#include&lt;iostream&gt;
#include&lt;cstdio&gt;
#include&lt;cstring&gt;
#define N 100010
#define ll long long
using namespace std;
ll t;
ll Q,mod;
ll st[N],cnt;
struct note{
	ll l,r,num;
}d[N*4];
ll op,pos;
void build(ll k,ll x,ll y){
	d[k].l=x;d[k].r=y;d[k].num=1; 
	if(x==y) return ;
	build(k*2,x,(x+y)/2);
	build(k*2+1,(x+y)/2+1,y);
}
void revise(ll k,ll x,ll z){
	if(d[k].l==d[k].r){
		d[k].num=z%mod;
		return ;
	}
	ll mid=(d[k].l+d[k].r)/2;
	if(x&lt;=mid) revise(k*2,x,z);
	else revise(k*2+1,x,z);
	d[k].num=(d[k*2].num*d[k*2+1].num)%mod;
}
int main()
{
	scanf(&quot;%lld&quot;,&amp;t);
	while(t--){
		scanf(&quot;%lld%lld&quot;,&amp;Q,&amp;mod);
		build(1,1,Q);
		for(ll i=1;i&lt;=Q;i++){
			scanf(&quot;%lld%lld&quot;,&amp;op,&amp;pos);
			if(op==1) revise(1,i,pos);
			else revise(1,pos,1);
			printf(&quot;%lld\n&quot;,d[1].num);
		}
	}
	return 0;
}
</code></pre>
<h3 id="åè¨€">åè¨€</h3>
<p>è¯è¯´æœ‰å¤§ä½¬è¯´ï¼Œè¿™ä¸ªé¢˜ä¸ç”¨å»ºæ ‘ï¼Œç›´æ¥è½å°±è¡Œã€‚<s>å¯æ˜¯ä¸å»ºæ ‘è¿˜æ˜¯çº¿æ®µæ ‘å—ï¼ŸğŸ™ƒ</s></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ç¥å¥‡çš„å›¾]]></title>
        <id>https://Kite-chaser.github.io/post/shen-qi-de-tu</id>
        <link href="https://Kite-chaser.github.io/post/shen-qi-de-tu">
        </link>
        <updated>2019-10-29T11:22:01.000Z</updated>
        <content type="html"><![CDATA[<figure data-type="image" tabindex="1"><img src="https://Kite-chaser.github.io/post-images/1572348146460.jpg" alt=""></figure>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[UVA1753 Need for Speed]]></title>
        <id>https://Kite-chaser.github.io/post/uva1753-need-for-speed</id>
        <link href="https://Kite-chaser.github.io/post/uva1753-need-for-speed">
        </link>
        <updated>2019-10-28T12:11:38.000Z</updated>
        <summary type="html"><![CDATA[<p>OIerå†™ä»£ç ï¼Œæ€»ä¼šé‡åˆ°å‡ ä¸ªç„å­¦é”™è¯¯ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>OIerå†™ä»£ç ï¼Œæ€»ä¼šé‡åˆ°å‡ ä¸ªç„å­¦é”™è¯¯ã€‚</p>
<!--more-->
<h3 id="é¢˜æ„æè¿°">é¢˜æ„æè¿°</h3>
<p>Winniechenæœ‰ä¸€è¾†è½¦ï¼Œ ä½†æ˜¯å®ƒçš„è¿ˆé€Ÿè¡¨æŒ‡é’ˆåæ‰çš„ã€‚å½“åº¦æ•°ä¸º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">s</span></span></span></span>çš„æ—¶å€™ï¼Œ è½¦çš„å®é™…é€Ÿåº¦æ˜¯ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi><mo>+</mo><mi>c</mi></mrow><annotation encoding="application/x-tex">s+c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">c</span></span></span></span>ï¼Œ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">c</span></span></span></span>æ˜¯ä¸€ä¸ªä¸ç¡®å®šçš„å®æ•°ï¼ˆå¸¸æ•°ã€‚ç°åœ¨ç»™ä½ ä¸€æ®µè¡Œç¨‹ï¼ŒåŒ…å«nä¸ªè·¯æ®µï¼Œ ä¿è¯æ¯ä¸ªè·¯æ®µæ˜¯å‡é€Ÿè¡Œé©¶çš„ï¼Œ æ¯ä¸ªæè¿°æœ‰ä¸¤ä¸ªæ•°å­—ï¼Œ åˆ†åˆ«ä¸ºè¡Œé©¶çš„è·¯ç¨‹<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>d</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">d_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>å’Œè¿ˆé€Ÿè¡¨çš„è¯»æ•°<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>s</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">s_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ã€‚æ•´ä¸ªè¡Œç¨‹ä¸€å…±ç”¨äº†<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">t</span></span></span></span>çš„æ—¶é—´ï¼Œ è¯·ç¡®å®š<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">c</span></span></span></span>çš„å€¼ã€‚å¦å¤–è¯·æ³¨æ„ï¼Œ ä»–çš„çœŸå®é€Ÿåº¦æ˜¯æ°¸è¿œä¿æŒåœ¨0ä»¥ä¸Šçš„ã€‚</p>
<blockquote>
<p><a href="https://www.luogu.org/problem/UVA1753">åŸé¢˜é“¾æ¥</a></p>
</blockquote>
<h3 id="solve">Solve</h3>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬è’™ä¸€ä¸ª<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">c</span></span></span></span>åšç­”æ¡ˆã€‚<br>
<img src="https://Kite-chaser.github.io/post-images/1572265247371.png" alt=""><br>
ç„¶åè¯•ä¸€è¯•ï¼Œå¦‚æœç”¨æ—¶è¶…è¿‡<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">t</span></span></span></span>çš„è¯ï¼Œå°±æ˜¯é€Ÿåº¦å¤ªæ…¢äº†ï¼Œåº”è¯¥ç»™ä»–ææé€Ÿã€‚å¦‚æœå°äº<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span>çš„è¯ï¼Œå°±æ˜¯é€Ÿåº¦å¤ªå¿«äº†ï¼Œåº”è¯¥ç»™ä»–é™ä¸€é™ï¼Œå¦‚æœç”¨æ—¶ç­‰äº<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">t</span></span></span></span>çš„è¯ï¼Œbingoï¼Œæ­å–œä½ çŒœå¯¹äº†ã€‚<br>
æ‰€ä»¥ï¼Œæˆ‘ä»¬æƒŠå¥‡çš„å‘ç°ï¼Œè¿™ä¸ª<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">c</span></span></span></span>å…·æœ‰â€œå•è°ƒæ€§â€ï¼Œè¿™æ„å‘³ç€ä»€ä¹ˆï¼Ÿæˆ‘ä»¬å¯ä»¥æœ‰è§„å¾‹åœ°å»çŒœã€‚<br>
äºŒåˆ†ç­”æ¡ˆã€‚è€Œåˆ¤æ–­å°±æ˜¯ç”¨ç”¨æ—¶ä¸<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">t</span></span></span></span>çš„å…³ç³»ã€‚<br>
<strong>ç‰¹æ®Šä¹‹å¤„å°±åœ¨äºï¼Œæ˜¯å®æ•°åŸŸä¸Šçš„äºŒåˆ†ã€‚</strong><br>
æ— éå°±æ˜¯æŠŠ</p>
<pre><code class="language-cpp">while(l&lt;=r){
	mid=(l+r)&gt;&gt;1;
	if(Â·Â·Â·) l=mid+1;
	else r=mid-1; 
} 
</code></pre>
<p>æ¢æˆ</p>
<pre><code class="language-cpp">while(l&lt;=r-eps){
	mid=(l+r)/2;
	if(Â·Â·Â·) l=mid;
	else r=mid; 
} 
</code></pre>
<p>æ‰€æœ‰å˜é‡éƒ½æ˜¯doubleç±»å‹ã€‚<strong>epså°±æ˜¯ä½ æƒ³è¦å¡çš„ç²¾åº¦ã€‚</strong></p>
<h3 id="code">Code</h3>
<pre><code class="language-cpp">#include&lt;iostream&gt;
#include&lt;cstdio&gt;
#include&lt;cstring&gt;
#define N 100000
#define db double
using namespace std;
int n;
db s[N],d[N];
db t,sum;
db l,r,mid,eps=1e-9;//å°±æ˜¯è¿™ä¸ª
bool solve(db c){
	sum=0;
	for(int i=1;i&lt;=n;i++){
		if(s[i]+c&lt;=0) return true;//å¦‚æœé€Ÿåº¦å°äº0çš„è¯å°±è·Ÿå°±GGäº†
		sum+=(d[i]/(s[i]+c)); 
	}
	if(sum&gt;t) return true;
	else return false;
}
int main()
{
	while(scanf(&quot;%d%lf&quot;,&amp;n,&amp;t)!=EOF){//è®°ä½è¿™ä¸ªâ€œï¼=EOFâ€
		l=-20000000,r=20000000;
		for(int i=1;i&lt;=n;i++) scanf(&quot;%lf%lf&quot;,&amp;d[i],&amp;s[i]);
		for(int i=1;i&lt;=100;i++){
			mid=(l+r)/2;
			if(solve(mid)) l=mid;
			else r=mid;
		}
		printf(&quot;%.9lf\n&quot;,l);
	}
}
</code></pre>
<h3 id="åè¨€">åè¨€</h3>
<p>æˆ‘åŸä»¥ä¸ºåŠ ä¸åŠ EOFéƒ½ä¸€æ ·çš„ï¼Œæˆ–è€…æ˜¯â€œ~â€å–åï¼Œä½†æ˜¯æŸè°·ç»™äº†æˆ‘ä¸€ä¸ªå¤§å¤§çš„è€³å…‰ï¼Œæˆ‘Té£äº†ã€‚<br>
æ‰€ä»¥è§‚å¯Ÿç­”æ¡ˆæœ‰â€œå•è°ƒæ€§â€çš„è¯ï¼ŒäºŒåˆ†è½å°±å®Œäº†ã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[P1948 [USACO08JAN]ç”µè¯çº¿Telephone Lines]]></title>
        <id>https://Kite-chaser.github.io/post/p1948-usaco08jandian-hua-xian-telephone-lines</id>
        <link href="https://Kite-chaser.github.io/post/p1948-usaco08jandian-hua-xian-telephone-lines">
        </link>
        <updated>2019-10-27T13:19:38.000Z</updated>
        <content type="html"><![CDATA[<h2 id="é¢˜ç›®æè¿°">é¢˜ç›®æè¿°</h2>
<p>Farmer John wants to set up a telephone line at his farm. Unfortunately, the phone company is uncooperative, so he needs to pay for some of the cables required to connect his farm to the phone system.</p>
<p>There are N (1 â‰¤ N â‰¤ 1,000) forlorn telephone poles conveniently numbered 1..N that are scattered around Farmer John's property; no cables connect any them. A total of P (1 â‰¤ P â‰¤ 10,000) pairs of poles can be connected by a cable; the rest are too far apart.</p>
<p>The i-th cable can connect the two distinct poles Ai and Bi, with length Li (1 â‰¤ Li â‰¤ 1,000,000) units if used. The input data set never names any {Ai, Bi} pair more than once. Pole 1 is already connected to the phone system, and pole N is at the farm. Poles 1 and N need to be connected by a path of cables; the rest of the poles might be used or might not be used.</p>
<p>As it turns out, the phone company is willing to provide Farmer John with K (0 â‰¤ K &lt; N) lengths of cable for free. Beyond that he will have to pay a price equal to the length of the longest remaining cable he requires (each pair of poles is connected with a separate cable), or 0 if he does not need any additional cables.</p>
<p>Determine the minimum amount that Farmer John must pay.</p>
<p>å¤šå¹´ä»¥åï¼Œç¬¨ç¬¨é•¿å¤§äº†ï¼Œæˆä¸ºäº†ç”µè¯çº¿å¸ƒç½®å¸ˆã€‚ç”±äºåœ°éœ‡ä½¿å¾—æŸå¸‚çš„ç”µè¯çº¿å…¨éƒ¨æŸåï¼Œç¬¨ç¬¨æ˜¯è´Ÿè´£æ¥åˆ°éœ‡ä¸­å¸‚çš„è´Ÿè´£äººã€‚è¯¥å¸‚å‘¨å›´åˆ†å¸ƒç€N(1&lt;=N&lt;=1000)æ ¹æ®1â€¦â€¦né¡ºåºç¼–å·çš„åºŸå¼ƒçš„ç”µè¯çº¿æ†ï¼Œä»»æ„ä¸¤æ ¹çº¿æ†ä¹‹é—´æ²¡æœ‰ç”µè¯çº¿è¿æ¥ï¼Œä¸€å…±æœ‰p(1&lt;=p&lt;=10000)å¯¹ç”µè¯æ†å¯ä»¥æ‹‰ç”µè¯çº¿ã€‚å…¶ä»–çš„ç”±äºåœ°éœ‡ä½¿å¾—æ— æ³•è¿æ¥ã€‚</p>
<p>ç¬¬iå¯¹ç”µçº¿æ†çš„ä¸¤ä¸ªç«¯ç‚¹åˆ†åˆ«æ˜¯ai,biï¼Œå®ƒä»¬çš„è·ç¦»ä¸ºli(1&lt;=li&lt;=1000000)ã€‚æ•°æ®ä¸­æ¯å¯¹(ai,bi)åªå‡ºç°ä¸€æ¬¡ã€‚ç¼–å·ä¸º1çš„ç”µè¯æ†å·²ç»æ¥å…¥äº†å…¨å›½çš„ç”µè¯ç½‘ç»œï¼Œæ•´ä¸ªå¸‚çš„ç”µè¯çº¿å…¨éƒ½è¿åˆ°äº†ç¼–å·Nçš„ç”µè¯çº¿æ†ä¸Šã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç¬¨ç¬¨çš„ä»»åŠ¡ä»…ä»…æ˜¯æ‰¾ä¸€æ¡å°†1å·å’ŒNå·ç”µçº¿æ†è¿èµ·æ¥çš„è·¯å¾„ï¼Œå…¶ä½™çš„ç”µè¯æ†å¹¶ä¸ä¸€å®šè¦è¿å…¥ç”µè¯ç½‘ç»œã€‚</p>
<p>ç”µä¿¡å…¬å¸å†³å®šæ”¯æ´ç¾åŒºå…è´¹ä¸ºæ­¤å¸‚è¿æ¥kå¯¹ç”±ç¬¨ç¬¨æŒ‡å®šçš„ç”µè¯çº¿æ†ï¼Œå¯¹äºæ­¤å¤–çš„é‚£äº›ç”µè¯çº¿ï¼Œéœ€è¦ä¸ºå®ƒä»¬ä»˜è´¹ï¼Œæ€»è´¹ç”¨å†³å®šäºå…¶ä¸­æœ€é•¿çš„ç”µè¯çº¿çš„é•¿åº¦(æ¯æ ¹ç”µè¯çº¿ä»…è¿æ¥ä¸€å¯¹ç”µè¯çº¿æ†)ã€‚å¦‚æœéœ€è¦è¿æ¥çš„ç”µè¯çº¿æ†ä¸è¶…è¿‡kå¯¹ï¼Œé‚£ä¹ˆæ”¯å‡ºä¸º0.</p>
<p>è¯·ä½ è®¡ç®—ä¸€ä¸‹ï¼Œå°†ç”µè¯çº¿å¼•å¯¼éœ‡ä¸­å¸‚æœ€å°‘éœ€è¦åœ¨ç”µè¯çº¿ä¸ŠèŠ±å¤šå°‘é’±ï¼Ÿ</p>
<blockquote>
<p><a href="https://www.luogu.org/problem/P1948">åŸé¢˜é“¾æ¥</a></p>
</blockquote>
<h2 id="solve">Solve</h2>
<p>ä¸€çœ¼ï¼Œè¿™ä¸å°±æ˜¯åˆ†å±‚å›¾è£¸é¢˜å—ï¼Ÿä½†æ˜¯è¿™ä¸ªèŒƒå›´ã€‚<br>
è™½ç„¶æˆ‘æ²¡è¯•è¿‡ï¼Œä½†æ˜¯è¿™ä¸ªèŒƒå›´ä¼šGGã€‚äºæ˜¯æˆ‘æ”¾å¼ƒäº†åˆ†å±‚å›¾ã€‚ï¼ˆå…¶å®æœ‰å¿ƒçš„åŒå­¦å¯ä»¥è¯•ä¸€è¯•ã€‚<br>
é‚£ä¹ˆä»”ç»†åˆ†æä¸€ä¸‹è¿™é“é¢˜ï¼Œå‘ç°æ±‚è§£çš„ä¸æ˜¯æœ€å°æ€»ä»£ä»·ï¼Œè€Œæ˜¯æœ€å°ä»£ä»·ã€‚è€Œä¸”è¿™ä¸ªä»£ä»·æ˜¯å…·æœ‰å•è°ƒæ€§çš„ã€‚<br>
ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€ä¸ªæœ€å°ä»£ä»·ä¸ºxçš„å¯è¡Œæƒ…å†µï¼Œé‚£ä¹ˆå¤§äºxçš„æƒ…å†µä¹Ÿå¯è¡Œã€‚<br>
è¿™å°±å¾ˆæ˜ç™½äº†ï¼ŒäºŒåˆ†ç­”æ¡ˆã€‚äºŒåˆ†æœ€å°ä»£ä»·ã€‚<br>
é‚£å¦‚ä½•åˆ¤æ–­å‘¢ï¼Ÿæƒ³ä¸€æƒ³ï¼Œæ‹¿å½“ç„¶æ˜¯æœ€çŸ­è·¯æƒ¹ã€‚DJï¼ŒSPFAï¼Œä¹ƒè‡³BFSéƒ½å¯ä»¥ã€‚<br>
æˆ‘ä¸ªäººæ¯”è¾ƒå–œæ¬¢DJã€‚</p>
<p>ä¼—æ‰€å‘¨çŸ¥<br>
<img src="https://Kite-chaser.github.io/post-images/1572183195997.png" alt=""><br>
å…¶å®è¿™ä¸ªé¢˜ï¼ŒSPFAä¹Ÿå¯ä»¥å•¦ã€‚<br>
è§£æ³•ä¹Ÿå°±å‡ºæ¥äº†ã€‚<br>
äºŒåˆ†ç­”æ¡ˆ+DJ/SPFA</p>
<ul>
<li>å¤§äºmidçš„è¾¹æƒè®¾ä¸º1ï¼Œå°äºç­‰äºmidçš„æƒå€¼è®¾ä¸º0ã€‚</li>
<li>è·‘æœ€çŸ­è·¯ã€‚</li>
<li>å¦‚æœdis[n]&lt;=kçš„è¯å°±æ˜¯å¯è¡Œçš„æƒ…å†µã€‚</li>
</ul>
<h2 id="code">Code</h2>
<pre><code class="language-cpp">#include&lt;iostream&gt;
#include&lt;cstdio&gt;
#include&lt;cstring&gt;
#include&lt;queue&gt;
#define N 100000
using namespace std;
int n,m,k;
int l=0,r=100000,mid,ans=-1;
int dis[N];
int u,v,w;
int head[N],len;
bool vis[N];
struct note{
	int to,vl,nxt;
}eg[N];
struct node{
	int u,vl;
	bool operator&lt;(const node &amp;a)const{
		return a.vl&lt;vl;
	}
};
priority_queue&lt;node&gt; q;
void add(int u,int v,int w){
	len++;
	eg[len].to=v;
	eg[len].vl=w;
	eg[len].nxt=head[u];
	head[u]=len;
}
bool dj(int s){
	memset(dis,0x3f,sizeof(dis));
	dis[1]=0;q.push((node){1,0});
	while(!q.empty()){
		int e=q.top().u;
		q.pop();
		vis[e]=false;
		for(int i=head[e];i;i=eg[i].nxt){
			int v=eg[i].to;
			int dist;
			if(eg[i].vl&gt;s) dist=1;
			else dist=0;
			if(dis[v]&gt;dis[e]+dist){
				dis[v]=dis[e]+dist;
				if(!vis[v]) vis[v]=true,q.push((node){v,dis[v]});
			}
		}
	}
	if(dis[n]&lt;=k) return true;
	else return false;
}
int main()
{
	scanf(&quot;%d%d%d&quot;,&amp;n,&amp;m,&amp;k);
	for(int i=1;i&lt;=m;i++){
		scanf(&quot;%d%d%d&quot;,&amp;u,&amp;v,&amp;w);
		add(u,v,w);add(v,u,w);
		r=max(r,w);
	}
	while(l&lt;=r){
		int mid=(l+r)&gt;&gt;1;
		if(dj(mid)){
			r=mid-1;
			ans=mid;
		}
		else l=mid+1;
	}
	printf(&quot;%d&quot;,ans);
	return 0;
}
</code></pre>
<h2 id="åè¨€">åè¨€</h2>
<p>ç­”æ¡ˆå•è°ƒçš„äºŒåˆ†è½å°±å®Œäº†ã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[å·®åˆ†çº¦æŸ]]></title>
        <id>https://Kite-chaser.github.io/post/chai-fen-yue-shu</id>
        <link href="https://Kite-chaser.github.io/post/chai-fen-yue-shu">
        </link>
        <updated>2019-10-27T11:16:11.000Z</updated>
        <summary type="html"><![CDATA[<p>å›¾è®ºçœŸçš„æ˜¯åšå¤§ç²¾æ·±ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>å›¾è®ºçœŸçš„æ˜¯åšå¤§ç²¾æ·±ã€‚</p>
<!--more-->
<h2 id="å‰è¨€">å‰è¨€</h2>
<p>å¦‚æœä¸€ä¸ªç³»ç»Ÿç”±nä¸ªå˜é‡å’Œmä¸ªçº¦æŸæ¡ä»¶ç»„æˆï¼Œå½¢æˆmä¸ªå½¢å¦‚ai-ajâ‰¤kçš„ä¸ç­‰å¼(i,jâˆˆ[1,n],kä¸ºå¸¸æ•°),åˆ™ç§°å…¶ä¸ºå·®åˆ†çº¦æŸç³»ç»Ÿ(system of difference constraints)ã€‚äº¦å³ï¼Œå·®åˆ†çº¦æŸç³»ç»Ÿæ˜¯æ±‚è§£å…³äºä¸€ç»„å˜é‡çš„ç‰¹æ®Šä¸ç­‰å¼ç»„çš„æ–¹æ³•ã€‚<br>
æ±‚è§£å·®åˆ†çº¦æŸç³»ç»Ÿï¼Œå¯ä»¥è½¬åŒ–æˆå›¾è®ºçš„å•æºæœ€çŸ­è·¯å¾„ï¼ˆæˆ–æœ€é•¿è·¯å¾„ï¼‰é—®é¢˜ã€‚</p>
<h2 id="æ­£æ–‡">æ­£æ–‡</h2>
<p>è§‚å¯Ÿxj-xi&lt;=bkï¼Œä¼šå‘ç°å®ƒç±»ä¼¼æœ€çŸ­è·¯ä¸­çš„ä¸‰è§’ä¸ç­‰å¼d[v]&lt;=d[u]+w[u,v]ï¼Œå³d[v]-d[u]&lt;=w[u,v]ã€‚å› æ­¤ï¼Œä»¥æ¯ä¸ªå˜é‡xiä¸ºç»“ç‚¹ï¼Œå¯¹äºçº¦æŸæ¡ä»¶xj-xi&lt;=bkï¼Œè¿æ¥ä¸€æ¡è¾¹(i,j)ï¼Œè¾¹æƒä¸ºbkã€‚æˆ‘ä»¬å†å¢åŠ ä¸€ä¸ªæºç‚¹s,sä¸æ‰€æœ‰å®šç‚¹ç›¸è¿ï¼Œè¾¹æƒå‡ä¸º0ã€‚å¯¹è¿™ä¸ªå›¾ï¼Œä»¥sä¸ºæºç‚¹è¿è¡ŒBellman-fordç®—æ³•ï¼ˆæˆ–SPFAç®—æ³•ï¼‰ï¼Œæœ€ç»ˆ{d[ i]}å³ä¸ºä¸€ç»„å¯è¡Œè§£ã€‚<br>
ä¾‹ï¼šd[x]-d[y]&gt;=Z<br>
å¦‚æœæƒ³è¿è¾¹åæ±‚æœ€é•¿è·¯ é‚£ä¹ˆå°†ä¸ç­‰å¼å˜å½¢ä¸ºè¿™ç§å½¢å¼ d[x]&gt;=d[y]+z y---xè¿ä¸€æ¡æƒå€¼ä¸ºzçš„è¾¹<br>
æ±‚æœ€çŸ­è·¯åˆ™å˜å½¢æˆd[y]&lt;=d[x]-z x---yè¿ä¸€æ¡æƒå€¼ä¸º-zçš„è¾¹ã€‚<br>
å¦‚æœæ˜¯åˆ«çš„ä¸ç­‰å¼ï¼Œä¹Ÿå¯ä»¥æ ¹æ®æƒ…å†µå˜å½¢ã€‚<br>
ä¸ºä»€ä¹ˆä¸€å®šè¦ç”¨SPFAå‘¢ï¼Œå› ä¸ºè¿™ä¸ªç³»ç»Ÿå¯èƒ½æ— è§£ã€‚å½“æœ€é•¿è·¯å‡ºç°æ­£ç¯çš„æ—¶å€™æˆ–æœ€çŸ­è·¯å‡ºç°è´Ÿç¯çš„æ—¶å€™ï¼Œè¿™ä¸ªç³»ç»Ÿå°±æ— è§£æƒ¹ã€‚å…¶å®ï¼Œæœ€é•¿æœ€çŸ­éƒ½å·®ä¸å¤šï¼Œè§†æƒ…å†µè€Œå®šã€‚</p>
<h2 id="eg">EG</h2>
<h3 id="p1993-å°kçš„å†œåœº"><a href="https://www.luogu.org/problem/P1993">P1993 å°Kçš„å†œåœº</a></h3>
<h3 id="é¢˜ç›®æè¿°">é¢˜ç›®æè¿°</h3>
<p>å°Kåœ¨MCé‡Œé¢å»ºç«‹å¾ˆå¤šå¾ˆå¤šçš„å†œåœºï¼Œæ€»å…±nä¸ªï¼Œä»¥è‡³äºä»–è‡ªå·±éƒ½å¿˜è®°äº†æ¯ä¸ªå†œåœºä¸­ç§æ¤ä½œç‰©çš„å…·ä½“æ•°é‡äº†ï¼Œä»–åªè®°å¾—ä¸€äº›å«ç³Šçš„ä¿¡æ¯ï¼ˆå…±mä¸ªï¼‰ï¼Œä»¥ä¸‹åˆ—ä¸‰ç§å½¢å¼æè¿°ï¼š</p>
<ul>
<li>å†œåœºaæ¯”å†œåœºbè‡³å°‘å¤šç§æ¤äº†cä¸ªå•ä½çš„ä½œç‰©ï¼Œ</li>
<li>å†œåœºaæ¯”å†œåœºbè‡³å¤šå¤šç§æ¤äº†cä¸ªå•ä½çš„ä½œç‰©ï¼Œ</li>
<li>å†œåœºaä¸å†œåœºbç§æ¤çš„ä½œç‰©æ•°ä¸€æ ·å¤šã€‚</li>
</ul>
<p>ä½†æ˜¯ï¼Œç”±äºå°Kçš„è®°å¿†æœ‰äº›åå·®ï¼Œæ‰€ä»¥ä»–æƒ³è¦çŸ¥é“å­˜ä¸å­˜åœ¨ä¸€ç§æƒ…å†µï¼Œä½¿å¾—å†œåœºçš„ç§æ¤ä½œç‰©æ•°é‡ä¸ä»–è®°å¿†ä¸­çš„æ‰€æœ‰ä¿¡æ¯å»åˆã€‚</p>
<h3 id="solve">Solve</h3>
<p>å»ºå›¾ï¼Œæ±‚æœ€é•¿è·¯ã€‚</p>
<ul>
<li>a-b&gt;=c,ä»bå‘aå»ºä¸€æ¡è¾¹æƒä¸ºcçš„è¾¹ã€‚</li>
<li>a-b&lt;=cç­‰äºb-a&lt;=-c,ä»aå‘bå»ºä¸€æ¡è¾¹æƒä¸º-cçš„è¾¹ã€‚</li>
<li>a=bï¼Œç­‰äºa-b&gt;=0æˆ–b-a&gt;=0ï¼ŒåŒå‘å»ºè¾¹ï¼Œæƒå€¼ä¸º0ã€‚<br>
æ¯ç§æƒ…å†µåˆ†æå®Œæ¯•ã€‚<br>
è¶…çº§æºç‚¹ä¸º0ã€‚å‘æ¯ä¸€ä¸ªç‚¹å»ºä¸€æ¡æƒå€¼ä¸º0çš„è¾¹ã€‚<br>
SPFAè·‘æœ€é•¿è·¯ã€‚<br>
<strong>ä¸€ç§ç„å­¦ä¼˜åŒ–æ–¹å¼ï¼Œç”¨DFSä¼˜åŒ–SPFAï¼Œç›´æ¥è·‘SPFAä¼šTé£çš„ã€‚</strong></li>
</ul>
<h3 id="code">Code</h3>
<pre><code class="language-cpp">#include&lt;iostream&gt;
#include&lt;cstdio&gt;
#include&lt;cstring&gt;
using namespace std;
const int maxn=23333333;
const int N=50005;
int n,m;
int num,x,y,z;
int first[N],nxt[N],to[N],dist[N],len;
int cnt[N],dis[N];
bool vis[N];
inline int read(){
    int k=0,f=1;
    char ch=getchar();
    while(ch&lt;'0'||ch&gt;'9'){
        if(ch=='-')
            f=-1;
        ch=getchar();
    }
    while(ch&gt;='0'&amp;&amp;ch&lt;='9'){
        k=(k&lt;&lt;1)+(k&lt;&lt;3)+(ch^48);
        ch=getchar();
    }
    return k*f;
}
void add(int u,int v,int w){
	to[++len]=v;
	dist[len]=w;
	nxt[len]=first[u];
	first[u]=len;
}
bool spfa(int u){
	vis[u]=1;
	for(int i=first[u];i!=-1;i=nxt[i]){
		if(dis[to[i]]&lt;dis[u]+dist[i]){
			dis[to[i]]=dis[u]+dist[i];
			if(vis[to[i]]) return 0;
			if(!spfa(to[i])) return 0;
		}
	}
	vis[u]=0;
	return 1;
}
int main()
{
	memset(first,-1,sizeof(first));
	n=read();m=read();
	for(int i=1;i&lt;=m;i++){
		num=read();x=read();y=read();
		if(num==1) z=read(),add(y,x,z);
		else if(num==2) z=read(),add(x,y,-z);
		else if(num==3) add(x,y,0),add(y,x,0);
	}
	for(int i=1;i&lt;=n;i++) add(0,i,0),dis[i]=-maxn;;
	if(spfa(0)) printf(&quot;Yes&quot;);
	else printf(&quot;No&quot;);
	return 0;
} 
</code></pre>
<h2 id="åè¨€">åè¨€</h2>
<p>ç”±æ­¤è§‚ä¹‹ï¼Œè®¸å¤šçœ‹ä¼¼åæ— å¤´ç»ªçš„é¢˜ï¼Œå…¶å®å¯ä»¥ç”¨å›¾è®ºè§£å†³ã€‚å°±å¥½åƒæœ‰æŒ‡å‘æ€§çš„çŠ¶æ€å¯ä»¥ç”¨DAGå»ºæ¨¡ã€‚ç„¶åç”¨ç›¸åº”çš„å›¾è®ºæ–¹æ³•è§£å†³ã€‚æ‰€ä»¥OIé¢˜ä¹Ÿè¦æ³¨æ„å»ºæ¨¡ã€‚</p>
<h2 id="ç›¸å…³ä¾‹é¢˜">ç›¸å…³ä¾‹é¢˜</h2>
<p><a href="https://www.luogu.org/problem/P2294">P2294 [HNOI2005]ç‹¡çŒ¾çš„å•†äºº</a><br>
<a href="https://www.luogu.org/problem/P3275">P3275 [SCOI2011]ç³–æœ</a><br>
<a href="https://www.luogu.org/problem/P3084">P3084 [USACO13OPEN]ç…§ç‰‡Photo</a><br>
<a href="https://www.luogu.org/problem/P4878">P4878 [USACO05DEC] å¸ƒå±€</a></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[åˆ†å±‚å›¾]]></title>
        <id>https://Kite-chaser.github.io/post/fen-ceng-tu</id>
        <link href="https://Kite-chaser.github.io/post/fen-ceng-tu">
        </link>
        <updated>2019-10-27T02:17:58.000Z</updated>
        <summary type="html"><![CDATA[<p>é»‘ç§‘æŠ€ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>é»‘ç§‘æŠ€ã€‚</p>
<!-- more -->
<h2 id="å‰è¨€">å‰è¨€</h2>
<p>åˆ†å±‚å›¾å°±æ˜¯ä¸€ç§ä¸Šå±‚å¯ä»¥åˆ°è¾¾ä¸‹å±‚ï¼Œè€Œä¸‹å±‚ä¸å¯ä»¥åˆ°è¾¾ä¸Šå±‚çš„å›¾ã€‚<br>
å…¶å®é‡è¦çš„æ˜¯ä¸€ç§æ„å›¾æ–¹æ³•ã€‚<br>
<img src="https://Kite-chaser.github.io/post-images/1572143056945.png" alt=""><br>
å¦‚å›¾ï¼Œé»‘è‰²çš„è¾¹å°±æ˜¯ä¸€å±‚å›¾ï¼Œè“è‰²çš„è¾¹å°±æ˜¯ä¸Šå±‚è¿å‘ä¸‹å±‚çš„å›¾ã€‚</p>
<h2 id="eg1">EG1</h2>
<h3 id="p2939-usaco09febæ”¹é€ è·¯revamping-trails"><a href="https://www.luogu.org/problem/P2939">P2939 [USACO09FEB]æ”¹é€ è·¯Revamping Trails</a></h3>
<h3 id="é¢˜ç›®æè¿°">é¢˜ç›®æè¿°</h3>
<p>Farmer John dutifully checks on the cows every day. He traverses some of the M (1 &lt;= M &lt;= 50,000) trails conveniently numbered 1..M from pasture 1 all the way out to pasture N (a journey which is always possible for trail maps given in the test data). The N (1 &lt;= N &lt;= 10,000) pastures conveniently numbered 1..N on Farmer John's farm are currently connected by bidirectional dirt trails. Each trail i connects pastures P1_i and P2_i (1 &lt;= P1_i &lt;= N; 1 &lt;= P2_i &lt;= N) and requires T_i (1 &lt;= T_i &lt;= 1,000,000) units of time to traverse.</p>
<p>He wants to revamp some of the trails on his farm to save time on his long journey. Specifically, he will choose K (1 &lt;= K &lt;= 20) trails to turn into highways, which will effectively reduce the trail's traversal time to 0. Help FJ decide which trails to revamp to minimize the resulting time of getting from pasture 1 to N.</p>
<p>TIME LIMIT: 2 seconds</p>
<h3 id="é¢˜æ„ç¿»è¯‘">é¢˜æ„ç¿»è¯‘</h3>
<p>çº¦ç¿°ä¸€å…±æœ‰N)ä¸ªç‰§åœº.ç”±Mæ¡å¸ƒæ»¡å°˜åŸƒçš„å°å¾„è¿æ¥.å°å¾„å¯ ä»¥åŒå‘é€šè¡Œ.æ¯å¤©æ—©ä¸Šçº¦ç¿°ä»ç‰§åœº1å‡ºå‘åˆ°ç‰§åœºNå»ç»™å¥¶ç‰›æ£€æŸ¥èº«ä½“.</p>
<p>é€šè¿‡æ¯æ¡å°å¾„éƒ½éœ€è¦æ¶ˆè€—ä¸€å®šçš„æ—¶é—´.çº¦ç¿°æ‰“ç®—å‡çº§å…¶ä¸­Kæ¡å°å¾„ï¼Œä½¿ä¹‹æˆä¸ºé«˜ é€Ÿå…¬è·¯.åœ¨é«˜é€Ÿå…¬è·¯ä¸Šçš„é€šè¡Œå‡ ä¹æ˜¯ç¬é—´å®Œæˆçš„ï¼Œæ‰€ä»¥é«˜é€Ÿå…¬è·¯çš„é€šè¡Œæ—¶é—´ä¸º0.</p>
<p>è¯·å¸®åŠ©çº¦ç¿°å†³å®šå¯¹å“ªäº›å°å¾„è¿›è¡Œå‡çº§ï¼Œä½¿ä»–æ¯å¤©ä»1å·ç‰§åœºåˆ°ç¬¬Nå·ç‰§åœºæ‰€èŠ±çš„æ—¶é—´æœ€çŸ­</p>
<h3 id="solve">Solve</h3>
<p>æšä¸¾æ¯ä¸ªè¾¹è®¾é›¶ï¼Œç„¶åè·‘æœ€çŸ­è·¯ï¼Ÿk=1å¯èƒ½è¿˜å¯ä»¥ï¼Œä½†æ˜¯k&lt;=20ï¼Œç›´æ¥æ¯™å‘½ã€‚<br>
åˆ†å±‚å›¾äºæ˜¯é—ªäº®ç™»åœºã€‚å…¶å®è¿™é“é¢˜è¿˜å¯ä»¥ç”¨åŠ¨æ€è§„åˆ’åšï¼Œä½†æ˜¯åœ¨è¿™é‡Œæˆ‘ä»¬åªè®¨è®ºåˆ†å±‚å›¾ï¼ˆ<s>å…¶å®æ˜¯è’Ÿè’»ä¸ä¼šå•¦</s>ï¼‰<br>
å‡çº§kæ¡è·¯å¾„ï¼Œå°±åˆ†k+1å±‚å›¾ã€‚ç¬¬ä¸€å±‚å°±æ˜¯åŸå›¾ï¼Œæ¯ä¸€å±‚å›¾å†…çš„ç‚¹å’Œè¾¹æƒéƒ½è·ŸåŸå›¾ä¸€æ ·ã€‚ä½†æ˜¯å±‚ä¸å±‚ä¹‹é—´çš„è¾¹çš„è¾¹æƒä¸ºé›¶ã€‚ä¸Šå±‚çš„uç‚¹è¿å‘ä¸‹å±‚çš„vç‚¹ï¼Œè¾¹æƒä¸ºé›¶ï¼Œå°±ç›¸å½“äºå‡çº§äº†è¿™æ¡å°å¾„ï¼Œç»è¿‡kå±‚è·‘æœ€çŸ­è·¯åˆ°è¾¾nç‚¹ï¼Œå°±ç›¸å½“äºç»è¿‡äº†å·²ç»å‡çº§äº†kæ¡è¾¹çš„æœ€çŸ­è·¯ã€‚<br>
ä¸ä¸€å®šè¦å‡çº§kæ¡è¾¹ï¼Œæ‰€ä»¥å–æ¯å±‚å›¾çš„æœ€å°ä»£ä»·ã€‚</p>
<h4 id="å»ºå›¾">å»ºå›¾</h4>
<pre><code class="language-cpp">for(int i=1;i&lt;=m;i++){
	scanf(&quot;%d%d%d&quot;,&amp;u,&amp;v,&amp;w);
	add(u,v,w);add(v,u,w);
	for(int j=1;j&lt;=k;j++){
		add(u+j*n,v+j*n,w);
		add(v+j*n,u+j*n,w);
		add(u+(j-1)*n,v+j*n,0);
		add(v+(j-1)*n,u+j*n,0);//å½“ç„¶æ— å‘å›¾éœ€è¦åŒå‘
	}
}
</code></pre>
<p><strong>tip:åˆ†å±‚å›¾é‡è¦çš„æ˜¯æ„é€ å›¾çš„æ–¹æ³•,æœ€çŸ­è·¯çš„è¯ï¼Œéšä¾¿å•¦ã€‚ä½†æ˜¯è¿˜æ˜¯è¯´ä¸€å¥â€œSPFAæ­»äº†â€</strong></p>
<h3 id="code">Code</h3>
<pre><code class="language-cpp">#include&lt;iostream&gt;
#include&lt;cstdio&gt;
#include&lt;cstring&gt;
#include&lt;queue&gt;
#define N 10000000
using namespace std;
int n,m,k,ans;
int u,v,w;
int dis[N];
int head[N],len;
struct note{
	int to,vl,nxt;
}eg[N];
struct node{
	int u,vl;
	bool operator&lt;(const node &amp;a)const{
		return a.vl&lt;vl;
	}
};
priority_queue&lt;node&gt; q;
bool vis[N];
void add(int u,int v,int w){
	len++;
	eg[len].to=v;
	eg[len].vl=w;
	eg[len].nxt=head[u];
	head[u]=len;
}
void dj(){
	memset(dis,0x3f,sizeof(dis));
	dis[1]=0;
	q.push((node){1,0});
	while(!q.empty()){
		int e=q.top().u;
		q.pop();
		if(vis[e]) continue;
		vis[e]=true;
		for(int i=head[e];i;i=eg[i].nxt){
			int v=eg[i].to;
			if(dis[v]&gt;dis[e]+eg[i].vl){
				dis[v]=dis[e]+eg[i].vl;
				if(!vis[v]) q.push((node){v,dis[v]});
			}
		}
	}
}
int main()
{
	scanf(&quot;%d%d%d&quot;,&amp;n,&amp;m,&amp;k);
	for(int i=1;i&lt;=m;i++){
		scanf(&quot;%d%d%d&quot;,&amp;u,&amp;v,&amp;w);
		add(u,v,w);add(v,u,w);
		for(int j=1;j&lt;=k;j++){
			add(u+j*n,v+j*n,w);
			add(v+j*n,u+j*n,w);
			add(u+(j-1)*n,v+j*n,0);
			add(v+(j-1)*n,u+j*n,0);
		}
	}
	dj();
	ans=dis[n];
	for(int i=1;i&lt;=k;i++) ans=min(ans,dis[n+i*n]);
	printf(&quot;%d&quot;,ans);
	return 0;
}
</code></pre>
<h2 id="åè¨€">åè¨€</h2>
<p>è¿™ä¸ªæ–¹æ³•çœŸçš„å¾ˆé€‚åˆå›¾ä¸­ä¼˜åŒ–å‡ æ¬¡è¾¹æƒç„¶åæ±‚æœ€å°ä»£ä»·çš„é¢˜ã€‚è¯è¯´è¿™ä¸ªé¢˜çš„æ•°ç»„èŒƒå›´æ˜¯æˆ‘äºŒåˆ†å‡ºæ¥çš„ï¼Œä¸€ä¸ªä¸ªè¯•å‡ºæ¥çš„20000000å¤ªå¤§ï¼Œ5000000å¤ªå°ã€‚GGã€‚</p>
<h2 id="ç”»å¤–éŸ³">ç”»å¤–éŸ³</h2>
<p>æ•°æ®è¿‡å¤§çš„è¯ï¼Œåˆ†å±‚å›¾å¯èƒ½å°±GGäº†ã€‚è€Œè¿™ä¸ªæ—¶å€™å°±è¯¥ç”¨å…¶ä»–çš„æ–¹æ³•æƒ¹ã€‚</p>
<h2 id="ç›¸å…³é¢˜ç›®">ç›¸å…³é¢˜ç›®</h2>
<p><a href="https://www.luogu.org/problem/P4822">P4822 [BJWC2012]å†»ç»“</a><br>
<a href="https://www.luogu.org/problem/P4568">P4568 [JLOI2011]é£è¡Œè·¯çº¿</a></p>
<h2 id="å…³äº">å…³äº</h2>
<p>[ä¾‹å›¾å–è‡ª]ï¼ˆhttps://www.luogu.org/blog/xiaohou/fen-ceng-tuï¼‰<br>
å°é¢ä¸æ˜¯å•¦ã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[P3870 [TJOI2009]å¼€å…³]]></title>
        <id>https://Kite-chaser.github.io/post/p3870-tjoi2009kai-guan</id>
        <link href="https://Kite-chaser.github.io/post/p3870-tjoi2009kai-guan">
        </link>
        <updated>2019-10-07T08:08:35.000Z</updated>
        <summary type="html"><![CDATA[<p>åˆ†å—æ˜¯ä¸€ç§ä¼˜é›…çš„æš´åŠ›ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>åˆ†å—æ˜¯ä¸€ç§ä¼˜é›…çš„æš´åŠ›ã€‚</p>
<!--more-->
<h2 id="é¢˜ç›®æè¿°">é¢˜ç›®æè¿°</h2>
<p>ç°æœ‰Nï¼ˆ2 â‰¤ N â‰¤ 100000ï¼‰ç›ç¯æ’æˆä¸€æ’ï¼Œä»å·¦åˆ°å³ä¾æ¬¡ç¼–å·ä¸ºï¼š1ï¼Œ2ï¼Œ......ï¼ŒNã€‚ç„¶åä¾æ¬¡æ‰§è¡ŒMï¼ˆ1 â‰¤ M â‰¤ 100000ï¼‰é¡¹æ“ä½œï¼Œæ“ä½œåˆ†ä¸ºä¸¤ç§ï¼šç¬¬ä¸€ç§æ“ä½œæŒ‡å®šä¸€ä¸ªåŒºé—´[a, b]ï¼Œç„¶åæ”¹å˜ç¼–å·åœ¨è¿™ä¸ªåŒºé—´å†…çš„ç¯çš„çŠ¶æ€ï¼ˆæŠŠå¼€ç€çš„ç¯å…³ä¸Šï¼Œå…³ç€çš„ç¯æ‰“å¼€ï¼‰ï¼Œç¬¬äºŒç§æ“ä½œæ˜¯æŒ‡å®šä¸€ä¸ªåŒºé—´[a, b]ï¼Œè¦æ±‚ä½ è¾“å‡ºè¿™ä¸ªåŒºé—´å†…æœ‰å¤šå°‘ç›ç¯æ˜¯æ‰“å¼€çš„ã€‚ç¯åœ¨åˆå§‹æ—¶éƒ½æ˜¯å…³ç€çš„ã€‚</p>
<blockquote>
<p><a href="https://www.luogu.org/problem/P3870">åŸé¢˜é“¾æ¥</a></p>
</blockquote>
<h2 id="slove">Slove</h2>
<ol>
<li>å°†nç›ç¯çš„çŠ¶æ€åˆ†å—ã€‚1è¡¨ç¤ºå¼€ç€ï¼Œ0è¡¨ç¤ºå…³ç€ã€‚</li>
<li>tg[]è¡¨ç¤ºæ¯ä¸ªå—çš„ä¿®æ”¹çŠ¶æ€ã€‚</li>
<li>é€šè¿‡â€œ^â€æ“ä½œå¿«é€Ÿä¿®æ”¹ã€‚</li>
</ol>
<h2 id="code">Code</h2>
<pre><code class="language-cpp">#include&lt;iostream&gt;
#include&lt;cstdio&gt;
#include&lt;cmath&gt;
#define N 100001
using namespace std;
int n,m;
int t;
int ans;
int cnt,x,y;
struct note{
	int l,r,sum;
}d[N];
int num[N],tg[N];
int ln[N];
void ch(int l,int r){
	if(ln[l]==ln[r]){
		for(int i=l;i&lt;=r;i++){
			d[ln[i]].sum-=(num[i]^tg[ln[i]]);
			num[i]=1-num[i];
			d[ln[i]].sum+=(num[i]^tg[ln[i]]);
		}
	}
	else{
		for(int i=l;i&lt;=d[ln[l]].r;i++){
			d[ln[i]].sum-=(num[i]^tg[ln[i]]);
			num[i]=1-num[i];
			d[ln[i]].sum+=(num[i]^tg[ln[i]]);
		}
		for(int i=d[ln[r]].l;i&lt;=r;i++){
			d[ln[i]].sum-=(num[i]^tg[ln[i]]);
			num[i]=1-num[i];
			d[ln[i]].sum+=(num[i]^tg[ln[i]]);
		}
		for(int i=ln[l]+1;i&lt;=ln[r]-1;i++){
			tg[i]=1-tg[i];
			d[i].sum=(d[i].r-d[i].l+1)-d[i].sum;
		}
	}
}
int qu(int l,int r){
	if(ln[l]==ln[r]){
		for(int i=l;i&lt;=r;i++) ans+=(num[i]^tg[ln[i]]);
		return ans;
	}
	else{
		for(int i=l;i&lt;=d[ln[l]].r;i++) ans+=(num[i]^tg[ln[l]]);
		for(int i=d[ln[r]].l;i&lt;=r;i++) ans+=(num[i]^tg[ln[r]]);
		for(int i=ln[l]+1;i&lt;=ln[r]-1;i++){
			ans+=d[i].sum;
		}
		return ans;
	}
}
int main()
{
	scanf(&quot;%d%d&quot;,&amp;n,&amp;m);
	t=sqrt(n);
	for(int i=1;i&lt;=t;i++){
		d[i].l=(i-1)*t+1;
		d[i].r=i*t;
	}
	if(d[t].r&lt;n){
		t++;
		d[t].l=d[t-1].r+1;
		d[t].r=n;
	}
	int s=1;
	for(int i=1;i&lt;=n;i++){
		if(d[s].r&lt;i) s++;
		ln[i]=s;
	}
	for(int i=1;i&lt;=m;i++){
		scanf(&quot;%d%d%d&quot;,&amp;cnt,&amp;x,&amp;y);
		if(cnt){
			ans=0;
			printf(&quot;%d\n&quot;,qu(x,y));
		}
		else ch(x,y);
	}
	return 0; 
}
</code></pre>
<h2 id="å…³äºåˆ†å—">å…³äºåˆ†å—</h2>
<p>æ²¡æœ‰å­¦è¿‡åˆ†å—çš„æœ‹å‹å¯ä»¥åº·åº·hzwå¤§ç¥çš„<a href="http://hzwer.com/8053.html">åˆ†å—ä¹è®²</a></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[P2986 [USACO10MAR]ä¼Ÿå¤§çš„å¥¶ç‰›èšé›†Great Cow Gatâ€¦]]></title>
        <id>https://Kite-chaser.github.io/post/p2986-usaco10marwei-da-de-nai-niu-ju-ji-great-cow-gat</id>
        <link href="https://Kite-chaser.github.io/post/p2986-usaco10marwei-da-de-nai-niu-ju-ji-great-cow-gat">
        </link>
        <updated>2019-10-03T10:08:28.000Z</updated>
        <summary type="html"><![CDATA[<p>è¯è¯´æè¿°ä¸‹é¢ä¸€å¤§å¨æ˜¯ä»€ä¹ˆä¸œè¥¿â€¦â€¦</p>
]]></summary>
        <content type="html"><![CDATA[<p>è¯è¯´æè¿°ä¸‹é¢ä¸€å¤§å¨æ˜¯ä»€ä¹ˆä¸œè¥¿â€¦â€¦</p>
<!--more-->
<h2 id="é¢˜ç›®æè¿°">é¢˜ç›®æè¿°</h2>
<p>Bessie is planning the annual Great Cow Gathering for cows all across the country and, of course, she would like to choose the most convenient location for the gathering to take place.</p>
<p>Bessieæ­£åœ¨è®¡åˆ’ä¸€å¹´ä¸€åº¦çš„å¥¶ç‰›å¤§é›†ä¼šï¼Œæ¥è‡ªå…¨å›½å„åœ°çš„å¥¶ç‰›å°†æ¥å‚åŠ è¿™ä¸€æ¬¡é›†ä¼šã€‚å½“ç„¶ï¼Œå¥¹ä¼šé€‰æ‹©æœ€æ–¹ä¾¿çš„åœ°ç‚¹æ¥ä¸¾åŠè¿™æ¬¡é›†ä¼šã€‚</p>
<p>Each cow lives in one of N (1 &lt;= N &lt;= 100,000) different barns (conveniently numbered 1..N) which are connected by N-1 roads in such a way that it is possible to get from any barn to any other barn via the roads. Road i connects barns A_i and B_i (1 &lt;= A_i &lt;= N; 1 &lt;= B_i &lt;= N) and has length L_i (1 &lt;= L_i &lt;= 1,000). The Great Cow Gathering can be held at any one of these N barns. Moreover, barn i has C_i (0 &lt;= C_i &lt;= 1,000) cows living in it.</p>
<p>æ¯ä¸ªå¥¶ç‰›å±…ä½åœ¨ N(1&lt;=N&lt;=100,000) ä¸ªå†œåœºä¸­çš„ä¸€ä¸ªï¼Œè¿™äº›å†œåœºç”±N-1æ¡é“è·¯è¿æ¥ï¼Œå¹¶ä¸”ä»ä»»æ„ä¸€ä¸ªå†œåœºéƒ½èƒ½å¤Ÿåˆ°è¾¾å¦å¤–ä¸€ä¸ªå†œåœºã€‚é“è·¯iè¿æ¥å†œåœºA_iå’ŒB_i(1 &lt;= A_i &lt;=N; 1 &lt;= B_i &lt;= N),é•¿åº¦ä¸ºL_i(1 &lt;= L_i &lt;= 1,000)ã€‚é›†ä¼šå¯ä»¥åœ¨Nä¸ªå†œåœºä¸­çš„ä»»æ„ä¸€ä¸ªä¸¾è¡Œã€‚å¦å¤–ï¼Œæ¯ä¸ªç‰›æ£šä¸­å±…ä½è€…C_i(0 &lt;= C_i &lt;= 1,000)åªå¥¶ç‰›ã€‚</p>
<p>When choosing the barn in which to hold the Cow Gathering, Bessie wishes to maximize the convenience (which is to say minimize the inconvenience) of the chosen location. The inconvenience of choosing barn X for the gathering is the sum of the distances all of the cows need to travel to reach barn X (i.e., if the distance from barn i to barn X is 20, then the travel distance is C_i*20). Help Bessie choose the most convenient location for the Great Cow Gathering.</p>
<p>åœ¨é€‰æ‹©é›†ä¼šçš„åœ°ç‚¹çš„æ—¶å€™ï¼ŒBessieå¸Œæœ›æœ€å¤§åŒ–æ–¹ä¾¿çš„ç¨‹åº¦(ä¹Ÿå°±æ˜¯æœ€å°åŒ–ä¸æ–¹ä¾¿ç¨‹åº¦)ã€‚æ¯”å¦‚é€‰æ‹©ç¬¬Xä¸ªå†œåœºä½œä¸ºé›†ä¼šåœ°ç‚¹ï¼Œå®ƒçš„ä¸æ–¹ä¾¿ç¨‹åº¦æ˜¯å…¶å®ƒç‰›æ£šä¸­æ¯åªå¥¶ç‰›å»å‚åŠ é›†ä¼šæ‰€èµ°çš„è·¯ç¨‹ä¹‹å’Œï¼Œ(æ¯”å¦‚ï¼Œå†œåœºiåˆ°è¾¾å†œåœºXçš„è·ç¦»æ˜¯20ï¼Œé‚£ä¹ˆæ€»è·¯ç¨‹å°±æ˜¯C_i*20)ã€‚å¸®åŠ©Bessieæ‰¾å‡ºæœ€æ–¹ä¾¿çš„åœ°ç‚¹æ¥ä¸¾è¡Œå¤§é›†ä¼šã€‚</p>
<p>Consider a country with five barns with [various capacities] connected by various roads of varying lengths. In this set of barns, neither barn 3 nor barn 4 houses any cows.</p>
<p>1 3 4 5</p>
<p>@--1--@--3--@--3--@[2]</p>
<p>[1] |</p>
<p>2 | @[1] 2 Bessie can hold the Gathering in any of five barns; here is the table of inconveniences calculated for each possible location:</p>
<p>Gather ----- Inconvenience ------</p>
<p>Location B1 B2 B3 B4 B5 Total</p>
<p>1 0 3 0 0 14 17</p>
<p>2 3 0 0 0 16 19</p>
<p>3 1 2 0 0 12 15</p>
<p>4 4 5 0 0 6 15</p>
<p>5 7 8 0 0 0 15</p>
<p>If Bessie holds the gathering in barn 1, then the inconveniences from each barn are:</p>
<p>Barn 1 0 -- no travel time there!</p>
<p>Barn 2 3 -- total travel distance is 2+1=3 x 1 cow = 3 Barn 3 0 -- no cows there!</p>
<p>Barn 4 0 -- no cows there!</p>
<p>Barn 5 14 -- total travel distance is 3+3+1=7 x 2 cows = 14 So the total inconvenience is 17.</p>
<p>The best possible convenience is 15, achievable at by holding the Gathering at barns 3, 4, or 5.</p>
<blockquote>
<p><a href="https://www.luogu.org/problem/P2986">åŸé¢˜é“¾æ¥</a></p>
</blockquote>
<h2 id="slove">Slove</h2>
<p>ç®€å•ç‚¹è¯´å°±æ˜¯ç”¨æ ‘çš„é‡å¿ƒæ±‚è§£ã€‚<br>
ç±»ä¼¼äºè¿™ç§æ ‘ä¸Šåˆ°ä¸€ç‚¹ç„¶åæ±‚æœ€å°ä»·å€¼çš„é¢˜å¤§å¤šæ˜¯æ ‘çš„é‡å¿ƒã€‚<br>
ä¹Ÿå°±æ˜¯æ‰€æ±‚çš„è¿™ä¸€ç‚¹ã€‚<br>
æœ‰å…³æ ‘çš„é‡å¿ƒï¼Œè§è’Ÿè’»çš„<a href="https://kite-chaser.github.io/post/shu-de-chong-xin/">ç¬”è®°</a>ã€‚<br>
ç„¶åä»æ ‘çš„é‡å¿ƒï¼Œæ±‚åˆ°å„ç‚¹çš„è·¯å¾„é•¿åº¦å’Œä»£ä»·å³å¯ã€‚</p>
<h2 id="code">Code</h2>
<pre><code class="language-cpp">#include&lt;iostream&gt;
#include&lt;cstdio&gt;
#include&lt;cstring&gt;
#define ll long long
#define N 100001
using namespace std;
ll n;
ll maxn=1000000000000000000,ans;
ll cnt,sum;
ll c[N];
ll x,y,z;
ll dis[N],d[N];  //dis-ä»æ ‘çš„é‡å¿ƒåˆ°èŠ‚ç‚¹çš„è·¯å¾„é•¿åº¦
ll first[N*2],nxt[N*2],to[N*2],w[N*2],len;
void add(ll u,ll v,ll z){
	to[++len]=v;
	w[len]=z;
	nxt[len]=first[u];
	first[u]=len;
}
void dp(ll s,ll fa){
	d[s]=c[s];
	ll res=0;
	for(ll i=first[s];i!=-1;i=nxt[i]){
		if(to[i]==fa) continue;
		dp(to[i],s);
		d[s]+=d[to[i]];
		res=max(res,d[to[i]]);
	}
	res=max(res,sum-d[s]);
	if(res&lt;maxn){
		maxn=res;
		cnt=s;
	}
}
void dfs(ll s,ll fa){
	for(ll i=first[s];i!=-1;i=nxt[i]){
		if(to[i]==fa) continue;
		dis[to[i]]=dis[s]+w[i];
		dfs(to[i],s);
	}
}
int main()
{
	memset(first,-1,sizeof(first));
	scanf(&quot;%lld&quot;,&amp;n);
	for(ll i=1;i&lt;=n;i++){
		scanf(&quot;%lld&quot;,&amp;c[i]);sum+=c[i];
	}
	for(ll i=1;i&lt;n;i++){
		scanf(&quot;%lld%lld%lld&quot;,&amp;x,&amp;y,&amp;z);
		add(x,y,z);
		add(y,x,z);
	}
	dp(1,1);
	dis[cnt]=0;
	dfs(cnt,cnt);
	for(ll i=1;i&lt;=n;i++){
		ans+=dis[i]*c[i];
	}
	printf(&quot;%lld&quot;,ans);
	return 0;
}
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[P1270 â€œè®¿é—®â€ç¾æœ¯é¦†]]></title>
        <id>https://Kite-chaser.github.io/post/p1270-fang-wen-mei-zhu-guan</id>
        <link href="https://Kite-chaser.github.io/post/p1270-fang-wen-mei-zhu-guan">
        </link>
        <updated>2019-09-21T09:45:36.000Z</updated>
        <summary type="html"><![CDATA[<p>æˆ‘è‚äº†å¥½ä¹…â€¦â€¦</p>
]]></summary>
        <content type="html"><![CDATA[<p>æˆ‘è‚äº†å¥½ä¹…â€¦â€¦</p>
<!--more-->
<h2 id="é¢˜ç›®æè¿°">é¢˜ç›®æè¿°</h2>
<p>ç»è¿‡æ•°æœˆçš„ç²¾å¿ƒå‡†å¤‡ï¼ŒPeer Brelstetï¼Œä¸€ä¸ªå‡ºäº†åçš„ç›—ç”»è€…ï¼Œå‡†å¤‡å¼€å§‹ä»–çš„ä¸‹ä¸€ä¸ªè¡ŒåŠ¨ã€‚è‰ºæœ¯é¦†çš„ç»“æ„ï¼Œæ¯æ¡èµ°å»Šè¦ä¹ˆåˆ†å‰ä¸ºä¸¤æ¡èµ°å»Šï¼Œè¦ä¹ˆé€šå‘ä¸€ä¸ªå±•è§ˆå®¤ã€‚PeerçŸ¥é“æ¯ä¸ªå±•å®¤é‡Œè—ç”»çš„æ•°é‡ï¼Œå¹¶ä¸”ä»–ç²¾ç¡®æµ‹é‡äº†é€šè¿‡æ¯æ¡èµ°å»Šçš„æ—¶é—´ã€‚ç”±äºç»éªŒè€åˆ°ï¼Œä»–æ‹¿ä¸‹ä¸€å¹…ç”»éœ€è¦5ç§’çš„æ—¶é—´ã€‚ä½ çš„ä»»åŠ¡æ˜¯ç¼–ä¸€ä¸ªç¨‹åºï¼Œè®¡ç®—åœ¨è­¦å¯Ÿèµ¶æ¥ä¹‹å‰ï¼Œä»–æœ€å¤šèƒ½å·åˆ°å¤šå°‘å¹…ç”»ã€‚<br>
<img src="https://Kite-chaser.github.io/post-images/1569059240907.png" alt=""><br>
æ ·ä¾‹çš„å›¾â€¦â€¦</p>
<blockquote>
<p><a href="https://www.luogu.org/problem/P1270">åŸé¢˜é“¾æ¥</a></p>
</blockquote>
<h2 id="slove">Slove</h2>
<p>æ ‘å½¢DP-æ ‘å½¢èƒŒåŒ…<br>
mon[i]åˆ°èŠ‚ç‚¹içš„ç”¨æ—¶<br>
<s>åå¹´DPæ¨æ–¹ç¨‹</s></p>
<ol>
<li>è®¾è®¡çŠ¶æ€ï¼šd[i][j]ï¼Œä»¥iä¸ºæ ¹èŠ‚ç‚¹ï¼Œå–ç”»jå‰¯æ—¶çš„æœ€å°‘ç”¨æ—¶ã€‚</li>
<li>è¾¹ç•Œï¼šd[i][j]=j*5,(iä¸ºå±•å®¤ï¼Œ0&lt;=j&lt;=è¯¥å±•å®¤ç”»æ•°ï¼‰</li>
<li>è½¬ç§»æ–¹ç¨‹ï¼šd[u][j]=min(d[u][j],d[u][j-k]+d[v][k]+mon[v]).ï¼ˆuåˆ°væœ‰è¾¹ï¼›jä¸ºuçš„æœ€å¤§ç”»æ•°ï¼‰</li>
<li>æŒ‰ç…§æœ€å¤§ç”»å¹…ï¼Œå€’åºæšä¸¾ï¼Œç”¨æ—¶ä½äºSçš„å°±æ˜¯ç­”æ¡ˆã€‚</li>
</ol>
<h2 id="code">Code</h2>
<pre><code class="language-cpp">#include&lt;iostream&gt;
#include&lt;cstdio&gt;
#include&lt;cstring&gt;
#define N 1010
using namespace std;
int s;
int tree[N*10];
int mon[N],vl[N],cnt;
int d[N][N];
int sz[N],sum;
int first[N],nxt[N],to[N],len;
void add(int u,int v){
	to[++len]=v;
	nxt[len]=first[u];
	first[u]=len;
}
void infs(int u){
	mon[u]=mon[u]*2;
	if(vl[u]){
		sum+=vl[u];
		for(int i=0;i&lt;=vl[u];i++) d[u][i]=i*5;
		return ;
	}
	scanf(&quot;%d%d&quot;,&amp;mon[u*2],&amp;vl[u*2]);
	add(u,u*2);infs(u*2);
	scanf(&quot;%d%d&quot;,&amp;mon[u*2+1],&amp;vl[u*2+1]);
	add(u,u*2+1),infs(u*2+1);
}
void dfs(int u){
	if(vl[u]){
		sz[u]=vl[u];
		return ;
	}
	for(int i=first[u];i!=-1;i=nxt[i]){
		dfs(to[i]);
		sz[u]+=sz[to[i]];
		for(int j=sz[u];j&gt;=0;j--){
			for(int k=min(j,sz[to[i]]);k&gt;=0;k--) d[u][j]=min(d[u][j],d[u][j-k]+d[to[i]][k]+mon[to[i]]);
		}
	}
}
int main()
{
	memset(first,-1,sizeof(first));
	for(int i=0;i&lt;=1001;i++) for(int j=1;j&lt;=1001;j++) d[i][j]=30000;
	scanf(&quot;%d&quot;,&amp;s);
	s--;
	add(0,1);
	scanf(&quot;%d%d&quot;,&amp;mon[1],&amp;vl[1]);
	infs(1);
	dfs(0);
	for(int i=sum;i&gt;=0;i--){
		if(d[0][i]&lt;s){
			printf(&quot;%d&quot;,i);
			return 0;
		}
	}
	return 0;
}
</code></pre>
]]></content>
    </entry>
</feed>